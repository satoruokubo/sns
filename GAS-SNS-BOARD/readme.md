# GoogleAppsScript(GAS)を利用した掲示板webアプリ

このアプリはGsuiteのサービスのみを利用して掲示板を利用することができます。

初期セットアップを行うには、Gsuite、GAS、claspの知識が多少必要にある場合があります。

## 事前準備
このアプリを利用するには、スプレッドシート(3ファイル)が必要です。そのため、以下のスプレッドシートを3つ用意してください。
スプレッドシートの名前は任意で良いですが、説明し易いように名前を指定します。

+ SNS_BORAD_SETTING
  + 以下、二つのスプレッドシートIDや、フォルダIDを保持するスプレッドシート
+ SNS_BORAD_DATA
  + 掲示板に投稿、コメントされたデータを保持するスプレッドシート
+ SNS_DATA_HISTORY
  + バックアップ処理を実行した場合のバックアップスプレッドシートのURLを保持するスプレッドシート

フォルダも2つ用意してください。

+ SNS_FILE
  + 掲示板に添付されたファイルを保存するフォルダ
+ SNS_BACKUP
  + バックアップを行う、スプレッドシートを保存するフォルダ

作成したスプレッドシート、フォルダは共有(編集可)しておいてください。

### 【SNS_BORAD_SETTING】スプレッドシートの設定

以下の内容で中身を設定してください。

シート名：setting

セル内：
|   | A                     | B                                 |
|:-:|:----------------------|:----------------------------------|
| 1 |UPDATE_FLG             | [UPDATE_FLG]の区分,[0]を指定      |
| 2 |SNS_ACCESS_KEY         | SNS_BORAD_DATAに書き込むキー（初期値は123456）        |
| 3 |SNS_BORAD_DATA         | [SNS_BORAD_DATA]のシートID        |
| 4 |SNS_BORAD_DATAHISTORY  | [SNS_BORAD_DATAHISTORY]のシートID |
| 5 |SNS_FILE               | [SNS_FILE]のフォルダID            |
| 6 |SNS_BACKUP             | [SNS_BACKUP]のフォルダID          |

### 【SNS_BORAD_DATA】スプレッドシートの設定

以下の内容で中身を設定してください。

シート名：data

セル内：
|   | A  | B    | C          | D              | E              | F        | G        | H    | I         | J       | K      |
|:-:|:---|:-----|:-----------|:---------------|:---------------|:---------|:---------|:-----|:----------|:--------|:-------|
| 1 | ID | 親ID | 削除フラグ | タイムスタンプ | 投稿アカウント | 投稿者名 | タイトル | 本文 | リンクURL | 画像URL | 閲覧者 |

### 【SNS_DATA_HISTORY】スプレッドシートの設定

以下の内容で中身を設定してください。

シート名：setting

セル内：
|   | A  | B    |
|:-:|:---|:-----|
| 1 | 作成日時 | バックアップID |

## GASソースコード設定
スプレッドシートのIDを設定する必要があります。
設定する位置は「_global.js」の8行目にある「setting_ID」に「SNS_BORAD_SETTING」のスプレッドシートIDを設定してください。

事前準備は完了です。

後は、「.clasp.json」に自分のGASプロジェクトを指定してpushを行い、WEBアプリケーションの公開を行えば使用できます。

使いかたは、以下のサイトを参考にしていただければ幸いです。
[Qiita](https://qiita.com/rarara_x16/items/c1c6c0e8dc97347d70c1)
